**DNS 协议**

客户端会发出一个 `DNS` 请求 问 www.xxxx.xxx 的 IP 是啥啊  
发给本地域名服务器（本地DNS）  
本地 DNS 收到来做客户端的请求 这台服务器上缓存了一张域名与之对应 IP地址的大表格  
找到就返回 如果没有 本地DNS就回去问它的根域服务器  
根域名服务器是最高层次的 全球 13 台  不直接用于域名解析 但能指明一条道路  

根 DNS 收到来自本地 DNS 请求 发现后缀是 .com (.net .org) 这个域名是有 .com 区域管理  
我给你顶级域名服务器的地址 你去问它...  

本地 DNS 请求转向询问顶层域名服务器  老二 你能告诉我 www.xxxx.xxx 的 IP 地址么  
顶级域名服务器就是大名鼎鼎的比如 .com、.net、 .org 这些一级域名 它负责管理二级域名  
顶层域名服务器 会返回 权威 DNS 服务器的地址 

本地 DNS 请求又转向问 权威 DNS 服务器  查询之后将 IP 地址 告诉 本地 DNS  
本地 DNS 返回客户端  和目标建立连接

<img src="https://github.com/wangcongyi/test/blob/master/images/dns.jpg" > 

 

站在客户端角度 这是一次 DNS 递归查询过程 因为本地 DNS 全权为它效劳，它只要坐等结果即可  
在这个过程中，DNS 除了可以通过名称映射为 IP 地址，它还可以做另外一件事，就是负载均衡
